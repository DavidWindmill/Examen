{% extends "base.html" %}

{% block content %}
<div class="sidebar">
  <!-- mini calendar + lista calendarios (igual que antes) -->
  <div class="card mb-3">
    <div class="card-header d-flex justify-content-between align-items-center">
      <a href="#" class="btn btn-sm btn-outline-secondary">&lt; {{ mes_actual }} &gt;</a>
    </div>
    <div class="card-body">
      <div class="calendar-grid small-calendar">
        {% for dia in dias_semana %}
        <div class="calendar-header">{{ dia }}</div>
        {% endfor %}
        {% for semana in mes_matriz %}
        {% for dia in semana %}
        {% if dia == 0 %}
        <div class="day-cell-mini empty"></div>
        {% else %}
        <div class="day-cell-mini {% if dia == hoy %}dia-mini{% endif %}">{{ dia }}</div>
        {% endif %}
        {% endfor %}
        {% endfor %}
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-header">Mis Calendarios</div>
    <ul class="list-group list-group-flush">
      {% for calendario in lista_calendarios %}
      <li class="list-group-item">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="{{ calendario._id }}" onchange="toggleCalendar(this)"
            {% if calendario._id in calendarios_seleccionados %}checked{% endif %}>
          <label class="form-check-label">{{ calendario.titulo }}</label>
        </div>
      </li>
      {% endfor %}
    </ul>
  </div>
</div>

{% include "bloque_calendario.html" %}


</div>





{% endblock %}